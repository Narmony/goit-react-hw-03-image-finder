{"version":3,"sources":["components/Modal/modal.module.css","components/ImageGalleryItem/imageGalleryItem.module.css","components/ImageGallery/imageGallery.module.css","components/Button/button.module.css","services/imageApi.js","components/Modal/Modal.jsx","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","App.jsx","index.js","components/Searchbar/searchbar.module.css"],"names":["module","exports","imageApi","searchQuery","currentPage","orientation","image_type","perPage","axios","get","then","response","data","hits","modalRoot","document","querySelector","Modal","state","handleKeyDown","e","code","console","log","props","onClose","handleBackdropClick","currentTarget","target","window","addEventListener","this","removeEventListener","createPortal","className","styles","overlay","onClick","modal","children","Component","Searchbar","query","handleChange","setState","value","handleSubmit","preventDefault","onSubmit","reset","searchbar","searchForm","type","searchFormButton","searchFormButtonLabel","searchFormInput","onChange","autoComplete","autoFocus","placeholder","ImageGalleryItem","id","src","alt","largeImgUrl","onOpenModal","imageGalleryItem","data-source","imageGalleryItemImage","ImageGallery","imageGallery","map","hit","webformatURL","largeImageURL","tags","Button","handlePage","button","App","isLoading","error","showModal","onChangeQuery","fetchHits","options","prevState","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","toggleModal","handleImage","dataset","source","prevProps","shouldShowBtn","length","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,mBCAxGD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,qJCkBZC,EAdE,SAAC,GAMX,IAAD,IALJC,mBAKI,MALU,GAKV,MAJJC,mBAII,MAJU,EAIV,MAHJC,mBAGI,MAHU,aAGV,MAFJC,kBAEI,MAFS,QAET,MADJC,eACI,MADM,GACN,EACJ,OAAOC,IACJC,IADI,UAVQ,2BAUR,cAEcN,EAFd,iBAEkCC,EAFlC,gBATO,qCASP,uBAE2EE,EAF3E,wBAEqGD,EAFrG,qBAE6HE,IAEjIG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,KAAKC,S,gCCX9BC,EAAYC,SAASC,cAAc,eAoC1BC,E,4MAlCbC,MAAQ,G,EAURC,cAAgB,SAAAC,GACC,WAAXA,EAAEC,OACJC,QAAQC,IAAI,OACZ,EAAKC,MAAMC,Y,EAGfC,oBAAsB,SAAAN,GAChBA,EAAEO,gBAAkBP,EAAEQ,QACxB,EAAKJ,MAAMC,W,uDAhBf,WACEI,OAAOC,iBAAiB,UAAWC,KAAKZ,iB,kCAG1C,WACEU,OAAOG,oBAAoB,UAAWD,KAAKZ,iB,oBAe7C,WACE,OAAOc,uBACL,qBAAKC,UAAWC,IAAOC,QAASC,QAASN,KAAKL,oBAA9C,SACE,qBAAKQ,UAAWC,IAAOG,MAAvB,SAA+BP,KAAKP,MAAMe,aAE5CzB,O,GA5Bc0B,a,gBCoDLC,E,4MAnDbvB,MAAQ,CACNwB,MAAO,I,EAKTC,aAAe,SAAAvB,GACb,EAAKwB,SAAS,CACZF,MAAOtB,EAAEO,cAAckB,S,EAI3BC,aAAe,SAAA1B,GACbA,EAAE2B,kBAEFC,EADqB,EAAKxB,MAAlBwB,UACC,EAAK9B,MAAMwB,OAEpB,EAAKO,S,EAGPA,MAAQ,WACN,EAAKL,SAAS,CAAEF,MAAO,M,4CAGzB,WACE,OACE,wBAAQR,UAAWC,IAAOe,UAA1B,SACE,uBAAMhB,UAAWC,IAAOgB,WAAYH,SAAUjB,KAAKe,aAAnD,UACE,wBAAQM,KAAK,SAASlB,UAAWC,IAAOkB,iBAAxC,SACE,sBAAMnB,UAAWC,IAAOmB,sBAAxB,sBAGF,uBACEpB,UAAWC,IAAOoB,gBAClBH,KAAK,OACLP,MAAOd,KAAKb,MAAMwB,MAClBc,SAAUzB,KAAKY,aACfc,aAAa,MACbC,WAAS,EACTC,YAAY,sC,GAxCAnB,a,kCCiBToB,EApBU,SAAC,GAAD,IAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,IAAKC,EAAZ,EAAYA,IAAKC,EAAjB,EAAiBA,YAAaC,EAA9B,EAA8BA,YAA9B,OACvB,oBAAa/B,UAAWC,IAAO+B,iBAA/B,SACE,qBACE7B,QAAS,SAAAjB,GAAC,OAAI6C,EAAY7C,IAC1B+C,cAAaH,EACbF,IAAKA,EACLC,IAAKA,EACL7B,UAAWC,IAAOiC,yBANbP,ICqBIQ,EArBM,SAAC,GAA2B,IAAzBxD,EAAwB,EAAxBA,KAAMoD,EAAkB,EAAlBA,YAC5B,OACE,oBAAI/B,UAAWC,IAAOmC,aAAtB,SACGzD,EAAK0D,KAAI,SAAAC,GAAG,OACX,cAAC,EAAD,CACEX,GAAIW,EAAIX,GAERC,IAAKU,EAAIC,aACTT,YAAaQ,EAAIE,cACjBX,IAAKS,EAAIG,KACTV,YAAaA,GAJRO,EAAIX,U,iBCGJe,EAVA,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WAChB,OACE,wBAAQzB,KAAK,SAASf,QAASwC,EAAY3C,UAAWC,IAAO2C,OAA7D,wB,iBCuGWC,G,kNAhGb7D,MAAQ,CACNL,KAAM,GACNT,YAAa,EACbD,YAAa,GACb6E,WAAW,EACXC,MAAO,KACPC,WAAW,EACXlB,YAAa,I,EASfmB,cAAgB,SAAAzC,GACd,EAAKE,SAAS,CACZzC,YAAauC,EACbtC,YAAa,EACbS,KAAM,GACNoE,MAAO,Q,EAIXG,UAAY,WACV,MAAqC,EAAKlE,MACpCmE,EAAU,CACdjF,YAFF,EAAQA,YAGND,YAHF,EAAqBA,aAKrB,EAAKyC,SAAS,CAAEoC,WAAW,IAE3B9E,EAASmF,GACN3E,MAAK,SAAAG,GACJ,EAAK+B,UAAS,SAAA0C,GAAS,MAAK,CAC1BzE,KAAK,GAAD,mBAAMyE,EAAUzE,MAAhB,YAAyBA,IAC7BT,YAAakF,EAAUlF,YAAc,MAGvCyB,OAAO0D,SAAS,CACdC,IAAKzE,SAAS0E,gBAAgBC,aAC9BC,SAAU,cAGbC,OAAM,SAAAX,GAAK,OAAI,EAAKrC,SAAS,CAAEqC,aAC/BY,SAAQ,kBAAM,EAAKjD,SAAS,CAAEoC,WAAW,Q,EAG9Cc,YAAc,WACZ,EAAKlD,UAAS,kBAAoB,CAChCsC,WADY,EAAGA,cAGb,EAAKhE,MAAMgE,WACb,EAAKtC,SAAS,CAAEoB,YAAa,M,EAIjC+B,YAAc,SAAA3E,GACZ,EAAKwB,SAAS,CAAEoB,YAAa5C,EAAEQ,OAAOoE,QAAQC,SAC9C,EAAKH,e,uDAlDP,c,gCACA,SAAmBI,EAAWZ,GACxBA,EAAUnF,cAAgB4B,KAAKb,MAAMf,aACvC4B,KAAKqD,c,oBAkDT,WACE,MAA2DrD,KAAKb,MAAxDL,EAAR,EAAQA,KAAMmE,EAAd,EAAcA,UAAWC,EAAzB,EAAyBA,MAAOC,EAAhC,EAAgCA,UAAWlB,EAA3C,EAA2CA,YACrCmC,EAAgBtF,EAAKuF,OAAS,IAAMpB,EAC1C,OACE,sBAAK9C,UAAU,MAAf,UACGgD,GACC,cAAC,EAAD,CAAOzD,QAASM,KAAK+D,YAArB,SACE,qBAAKhC,IAAKE,EAAaD,IAAI,OAG/B,cAAC,EAAD,CAAWf,SAAUjB,KAAKoD,gBACzBF,GAAS,oDACV,cAAC,EAAD,CACEpE,KAAMA,EACNgE,WAAY9C,KAAKqD,UAEjBnB,YAAalC,KAAKgE,cAEnBf,GACC,cAAC,IAAD,CACE9C,UAAU,SACVkB,KAAK,WACLiD,MAAM,UACNC,OAAQ,GACRC,MAAO,GACPC,QAAS,MAGZL,GAAiB,cAAC,EAAD,CAAQtB,WAAY9C,KAAKqD,mB,GA5FjC5C,cCPlBiE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF5F,SAAS6F,eAAe,U,kBCP1B5G,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,sC","file":"static/js/main.28c178a9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal_overlay__3GoLB\",\"modal\":\"modal_modal__3OAHy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"imageGalleryItem_imageGalleryItem__2at7i\",\"imageGalleryItemImage\":\"imageGalleryItem_imageGalleryItemImage__1WH3l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"imageGallery_imageGallery__Qono_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"button_button__2pFT2\"};","import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '20752837-5cf2428c2df3b00b35cf66bdb';\n\nconst imageApi = ({\n  searchQuery = '',\n  currentPage = 1,\n  orientation = 'horizontal',\n  image_type = 'photo',\n  perPage = 12,\n}) => {\n  return axios\n    .get(\n      `${BASE_URL}?q=${searchQuery}&page=${currentPage}&key=${API_KEY}&image_type=${image_type}&orientation=${orientation}&per_page=${perPage}`,\n    )\n    .then(response => response.data.hits);\n};\n\nexport default imageApi;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport styles from './modal.module.css';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\nclass Modal extends Component {\n  state = {};\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      console.log('Esc');\n      this.props.onClose();\n    }\n  };\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={styles.overlay} onClick={this.handleBackdropClick}>\n        <div className={styles.modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\nexport default Modal;\n","import styles from './searchbar.module.css';\n\nimport { Component } from 'react';\n// import { v4 as uuidv4 } from 'uuid';\nimport PropTypes from 'prop-types';\n\nclass Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  //   nameInputId = uuidv4();\n\n  handleChange = e => {\n    this.setState({\n      query: e.currentTarget.value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { onSubmit } = this.props;\n    onSubmit(this.state.query);\n\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ query: '' });\n  };\n\n  render() {\n    return (\n      <header className={styles.searchbar}>\n        <form className={styles.searchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.searchFormButton}>\n            <span className={styles.searchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.searchFormInput}\n            type=\"text\"\n            value={this.state.query}\n            onChange={this.handleChange}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import styles from './imageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ id, src, alt, largeImgUrl, onOpenModal }) => (\n  <li key={id} className={styles.imageGalleryItem}>\n    <img\n      onClick={e => onOpenModal(e)}\n      data-source={largeImgUrl}\n      src={src}\n      alt={alt}\n      className={styles.imageGalleryItemImage}\n    />\n  </li>\n);\n\nImageGalleryItem.propTypes = {\n  id: PropTypes.number,\n  webformatURL: PropTypes.string,\n  alt: PropTypes.string,\n  largeImageURL: PropTypes.string,\n  onOpenModal: PropTypes.func,\n};\n\nexport default ImageGalleryItem;\n","import styles from './imageGallery.module.css';\nimport ImageGalleryItem from '../../components/ImageGalleryItem/index';\nimport PropTypes from 'prop-types';\n\nconst ImageGallery = ({ hits, onOpenModal }) => {\n  return (\n    <ul className={styles.imageGallery}>\n      {hits.map(hit => (\n        <ImageGalleryItem\n          id={hit.id}\n          key={hit.id}\n          src={hit.webformatURL}\n          largeImgUrl={hit.largeImageURL}\n          alt={hit.tags}\n          onOpenModal={onOpenModal}\n        />\n      ))}\n    </ul>\n  );\n};\nImageGallery.propTypes = {\n  onOpenModal: PropTypes.func.isRequired,\n  hits: PropTypes.array.isRequired,\n};\n\nexport default ImageGallery;\n","import styles from './button.module.css';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ handlePage }) => {\n  return (\n    <button type=\"button\" onClick={handlePage} className={styles.button}>\n      Load more\n    </button>\n  );\n};\nButton.propTypes = {\n  handlePage: PropTypes.func.isRequired,\n};\nexport default Button;\n","import React, { Component } from 'react';\nimport imageApi from './services/imageApi';\n\nimport './styles.css';\nimport Modal from './components/Modal';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nclass App extends Component {\n  state = {\n    hits: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n    showModal: false,\n    largeImgUrl: '',\n  };\n\n  componentDidMount() {}\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchHits();\n    }\n  }\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      hits: [],\n      error: null,\n    });\n  };\n\n  fetchHits = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = {\n      currentPage,\n      searchQuery,\n    };\n    this.setState({ isLoading: true });\n\n    imageApi(options)\n      .then(hits => {\n        this.setState(prevState => ({\n          hits: [...prevState.hits, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n    if (this.state.showModal) {\n      this.setState({ largeImgUrl: '' });\n    }\n  };\n\n  handleImage = e => {\n    this.setState({ largeImgUrl: e.target.dataset.source });\n    this.toggleModal();\n  };\n\n  render() {\n    const { hits, isLoading, error, showModal, largeImgUrl } = this.state;\n    const shouldShowBtn = hits.length > 0 && !isLoading;\n    return (\n      <div className=\"app\">\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImgUrl} alt=\"\" />\n          </Modal>\n        )}\n        <Searchbar onSubmit={this.onChangeQuery} />\n        {error && <h1>it's a mistaaake!!</h1>}\n        <ImageGallery\n          hits={hits}\n          handlePage={this.fetchHits}\n          // toggleModal={this.toggleModal}\n          onOpenModal={this.handleImage}\n        />\n        {isLoading && (\n          <Loader\n            className=\"loader\"\n            type=\"TailSpin\"\n            color=\"#255ab0\"\n            height={50}\n            width={50}\n            timeout={5000}\n          />\n        )}\n        {shouldShowBtn && <Button handlePage={this.fetchHits} />}\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"searchbar_searchbar__2teXT\",\"searchForm\":\"searchbar_searchForm__gX3R_\",\"searchFormButton\":\"searchbar_searchFormButton__wPZ_b\",\"searchFormButtonLabel\":\"searchbar_searchFormButtonLabel__yfIam\",\"searchFormInput\":\"searchbar_searchFormInput__28m-U\"};"],"sourceRoot":""}